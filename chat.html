<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Gemini Multi-View (Com Nomes)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <style>
        html, body { height: 100%; overflow: hidden; }
        body { display: flex; flex-direction: column; }
        .main-container-wrapper { flex-grow: 1; overflow-y: auto; }
        .message-enter { animation: messageEnter 0.3s ease-out; }
        @keyframes messageEnter { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .typing-indicator::after { content: "..."; animation: typingDots 1.5s infinite; }
        @keyframes typingDots { 0%, 20% { content: "."; } 40% { content: ".."; } 60%, 100% { content: "..."; } }
        .markdown-content p { margin-bottom: 0.5rem; }
        .markdown-content ul, .markdown-content ol { margin-left: 1.25rem; list-style: inside; margin-bottom: 0.5rem; }
        .markdown-content li { margin-bottom: 0.25rem; }
        .markdown-content code { background-color: #e5e7eb; color: #1f2937; padding: 0.2rem 0.4rem; border-radius: 0.25rem; font-family: monospace; font-size: 0.9em; word-break: break-all; }
        .markdown-content pre { background-color: #e5e7eb; border: 1px solid #d1d5db; padding: 0.75rem; border-radius: 0.375rem; overflow-x: auto; margin-bottom: 0.75rem; }
        .markdown-content pre code { background-color: transparent; padding: 0; border-radius: 0; font-size: 0.85em; word-break: normal; }
        .markdown-content strong { font-weight: 600; }
        .markdown-content em { font-style: italic; }
        .markdown-content ul ul, .markdown-content ol ol, .markdown-content ul ol, .markdown-content ol ul { margin-left: 1.25rem; }
        .markdown-content a { color: #2563eb; text-decoration: underline; }
        .markdown-content a:hover { color: #1d4ed8; }
        .user-id-tag { font-size: 0.7rem; font-weight: bold; margin-left: 5px; padding: 1px 4px; background-color: #d1d5db; border-radius: 4px; color: #4b5563; }
        .chat-view-button-active { background-color: #4f46e5 !important; color: white !important; }
        .chat-view-button { background-color: #e5e7eb; color: #374151; transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out; }
        .chat-view-button:hover { background-color: #d1d5db; }
        .username-input { transition: all 0.3s ease; }
        .username-input:focus { transform: scale(1.05); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    </style>
</head>
<body class="bg-gray-100 font-sans">

<div id="welcome-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl">
        <h2 class="text-2xl font-bold mb-4 text-gray-800">Bem-vindo ao Chat Gemini!</h2>
        <input type="text" id="username-input" placeholder="Escolha um nome de usuário" class="username-input w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
        <button id="save-username-btn" class="w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 font-semibold">
            Salvar e Entrar
        </button>
        <p class="text-sm text-gray-500 mt-3">Seu nome será público e usado para outros usuários encontrarem seu chat.</p>
        <p id="username-error" class="text-sm text-red-500 mt-2 h-4"></p>
    </div>
</div>

<div class="main-container-wrapper container mx-auto max-w-4xl p-2 sm:p-4 flex flex-col h-full">
    <header class="bg-indigo-600 text-white rounded-lg shadow-md p-3 sm:p-4 mb-3 sm:mb-4 flex items-center justify-between flex-shrink-0">
        <div class="flex items-center space-x-2 sm:space-x-3">
            <i class="fas fa-robot text-xl sm:text-2xl"></i>
            <h1 class="text-lg sm:text-xl font-bold">Chat Gemini Multi-View</h1>
        </div>
        <div class="flex items-center space-x-4">
            <div id="user-info" class="text-xs flex items-center">
                <span id="username-display" class="bg-white text-indigo-600 px-2 py-0.5 rounded-full font-medium text-center min-w-[60px]">...</span>
                <span class="ml-2 hidden sm:inline">ID: <span id="device-id-display" title="ID Completo do Dispositivo">Carregando...</span></span>
            </div>
            <div id="user-status" class="flex items-center space-x-2">
                <span id="status-indicator" class="h-3 w-3 rounded-full bg-gray-300"></span>
                <span id="status-text" class="text-xs sm:text-sm">Offline</span>
            </div>
        </div>
    </header>

    <div class="mb-3 sm:mb-4 bg-white p-3 rounded-lg shadow-md flex-shrink-0 flex flex-col md:flex-row gap-4">
        <div>
            <label for="model-select" class="block text-sm font-medium text-gray-700 mb-1">Modelo:</label>
            <select id="model-select" name="model-select" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border">
            </select>
        </div>
        <div class="flex-grow">
            <label class="block text-sm font-medium text-gray-700 mb-1">Visualizar Chat:</label>
            <div class="flex flex-wrap gap-2 items-center">
                <button id="btn-general-chat" class="chat-view-button chat-view-button-active px-3 py-1 rounded text-sm font-medium">Geral</button>
                <button id="btn-my-chat" class="chat-view-button px-3 py-1 rounded text-sm font-medium">Meu Chat</button>
                <div class="flex items-center gap-1 flex-grow sm:flex-grow-0">
                    <input type="text" id="user-search-input" placeholder="Nome ou ID usuário" class="px-2 py-1 border border-gray-300 rounded text-sm focus:ring-indigo-500 focus:border-indigo-500 w-full sm:w-32 md:w-40">
                    <button id="btn-other-chat" class="chat-view-button px-3 py-1 rounded text-sm font-medium whitespace-nowrap">Ver Outro</button>
                </div>
            </div>
            <p class="text-xs text-gray-500 mt-1" id="current-chat-info">Visualizando: Chat Geral</p>
        </div>
    </div>

    <div class="bg-white rounded-lg shadow-md overflow-hidden flex flex-col flex-grow min-h-0">
        <div id="chat-messages" class="p-3 sm:p-4 space-y-4 overflow-y-auto flex-grow min-h-0">
            <div class="text-center text-gray-500 py-10 initial-message">
                <i class="fas fa-comments text-3xl sm:text-4xl mb-2"></i>
                <p class="text-sm sm:text-base">Carregando...</p>
            </div>
        </div>
        <div id="typing-indicator" class="hidden bg-gray-100 px-3 sm:px-4 py-2 text-gray-500 text-xs sm:text-sm flex-shrink-0">
            <span class="typing-indicator">Gemini está digitando</span>
        </div>
        <div class="border-t border-gray-200 p-2 sm:p-4 bg-gray-50 flex-shrink-0">
            <form id="message-form" class="flex space-x-2">
                <input id="message-input" type="text" placeholder="Digite sua mensagem..." class="flex-1 px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm sm:text-base" autocomplete="off" disabled>
                <button type="submit" aria-label="Enviar mensagem" class="bg-indigo-600 text-white px-3 sm:px-4 py-2 rounded-full hover:bg-indigo-700 transition-colors duration-200 flex items-center justify-center" disabled>
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
            <div class="flex justify-between items-center mt-2 text-xs text-gray-500">
                <span id="connection-status">Conectando...</span>
                <span id="message-count">0 msgs</span>
            </div>
        </div>
    </div>
</div>

<script type="module">
    const _0x228475=_0x249c;(function(_0x5462f6,_0x5f2a12){const _0x343cb3=_0x249c,_0x2f0c14=_0x5462f6();while(!![]){try{const _0x508540=-parseInt(_0x343cb3(0x29e))/0x1*(parseInt(_0x343cb3(0x222))/0x2)+parseInt(_0x343cb3(0x1d2))/0x3*(parseInt(_0x343cb3(0x250))/0x4)+parseInt(_0x343cb3(0x22d))/0x5+-parseInt(_0x343cb3(0x276))/0x6+parseInt(_0x343cb3(0x21e))/0x7*(-parseInt(_0x343cb3(0x28d))/0x8)+-parseInt(_0x343cb3(0x2e0))/0x9+parseInt(_0x343cb3(0x2d6))/0xa;if(_0x508540===_0x5f2a12)break;else _0x2f0c14['push'](_0x2f0c14['shift']());}catch(_0x484269){_0x2f0c14['push'](_0x2f0c14['shift']());}}}(_0x24b7,0x3848d));const _0x4d5299=_0x2d99;(function(_0x677522,_0x49a67a){const _0x5d289b=_0x249c,_0x554949=_0x2d99,_0x4193f7=_0x677522();while(!![]){try{const _0x5ba04c=parseInt(_0x554949(0x124))/0x1*(parseInt(_0x554949(0xbc))/0x2)+parseInt(_0x554949(0x80))/0x3*(parseInt(_0x554949(0x91))/0x4)+-parseInt(_0x554949(0x115))/0x5+parseInt(_0x554949(0x11a))/0x6+-parseInt(_0x554949(0x119))/0x7+-parseInt(_0x554949(0x1ae))/0x8*(-parseInt(_0x554949(0x7d))/0x9)+parseInt(_0x554949(0x100))/0xa;if(_0x5ba04c===_0x49a67a)break;else _0x4193f7['push'](_0x4193f7[_0x5d289b(0x22a)]());}catch(_0x38daa8){_0x4193f7[_0x5d289b(0x1ef)](_0x4193f7['shift']());}}}(_0x4360,0x99413));import{GoogleGenerativeAI}from'https://esm.run/@google/generative-ai';const firebaseConfig={'apiKey':_0x228475(0x27b),'authDomain':_0x4d5299(0x9d),'projectId':_0x4d5299(0x17d),'storageBucket':_0x4d5299(0x1bb),'messagingSenderId':_0x228475(0x24e),'appId':_0x4d5299(0xdd),'measurementId':'G-VD9JE84V5N'},GEMINI_API_KEY=_0x4d5299(0x93),AVAILABLE_MODELS=[{'id':_0x4d5299(0x106),'name':_0x4d5299(0xc2)}];let currentModelId=AVAILABLE_MODELS[0x0]['id'],currentChatView=_0x4d5299(0xba),targetChatId=null,USER_DEVICE_ID=null,USERNAME=null,genAI,chat=null,currentFirebaseListener=null,currentMessagesRef=null,isGeminiTyping=![],messageCounter=0x0,initialLoadComplete=![];try{firebase[_0x4d5299(0x128)](firebaseConfig);}catch(_0x4c04ea){console[_0x4d5299(0x190)](_0x4d5299(0xd9),_0x4c04ea),alert(_0x4d5299(0x107));}const database=firebase[_0x4d5299(0x11c)](),connectedRef=database[_0x4d5299(0x113)](_0x228475(0x1e5));function _0x249c(_0x5780e9,_0xb56155){const _0x24b7e4=_0x24b7();return _0x249c=function(_0x249c42,_0x1629d9){_0x249c42=_0x249c42-0x1b6;let _0x2d6834=_0x24b7e4[_0x249c42];return _0x2d6834;},_0x249c(_0x5780e9,_0xb56155);}function _0x4360(){const _0x131ef5=_0x228475,_0x516e6d=[_0x131ef5(0x2e9),'message-input','text',_0x131ef5(0x240),_0x131ef5(0x24b),_0x131ef5(0x1ba),'Dados\x20do\x20usuário\x20salvos\x20no\x20Firebase\x20com\x20sucesso.','initializeApp',_0x131ef5(0x1d8),'\x27\x20não\x20encontrado\x20no\x20índice.',_0x131ef5(0x1f6),_0x131ef5(0x236),_0x131ef5(0x2db),'g1.5-',_0x131ef5(0x24d),'Erro\x20crítico:\x20ID\x20do\x20modelo\x20inválido\x20após\x20sanitização.',_0x131ef5(0x277),_0x131ef5(0x299),'submit',_0x131ef5(0x263),_0x131ef5(0x1ce),_0x131ef5(0x28c),_0x131ef5(0x2d9),_0x131ef5(0x237),_0x131ef5(0x239),_0x131ef5(0x1d5),_0x131ef5(0x1c8),_0x131ef5(0x2f9),'Resposta\x20do\x20Gemini\x20salva\x20no\x20Firebase:','set','Carregando\x20ou\x20indisponível...',_0x131ef5(0x1e6),_0x131ef5(0x2f6),_0x131ef5(0x20a),_0x131ef5(0x2d1),_0x131ef5(0x23f),_0x131ef5(0x2a6),'isError',_0x131ef5(0x2f4),_0x131ef5(0x2f8),_0x131ef5(0x233),_0x131ef5(0x1b9),_0x131ef5(0x200),_0x131ef5(0x1f1),_0x131ef5(0x24c),_0x131ef5(0x2af),'Tentativa\x20de\x20chamar\x20getGeminiResponse\x20em\x20view\x20inválida:',_0x131ef5(0x1dc),_0x131ef5(0x2e3),_0x131ef5(0x2cb),_0x131ef5(0x2b9),_0x131ef5(0x29b),'fetch','querySelectorAll','message-form','&quot;',_0x131ef5(0x245),_0x131ef5(0x2c8),_0x131ef5(0x2a3),_0x131ef5(0x2d2),_0x131ef5(0x1ea),'Nome\x20deve\x20ter\x20entre\x203\x20e\x2015\x20caracteres.',_0x131ef5(0x1d3),_0x131ef5(0x1ec),_0x131ef5(0x1cb),_0x131ef5(0x1e3),_0x131ef5(0x1df),_0x131ef5(0x2bc),_0x131ef5(0x209),_0x131ef5(0x1f0),'split',_0x131ef5(0x1be),_0x131ef5(0x2ba),_0x131ef5(0x2d8),_0x131ef5(0x23d),_0x131ef5(0x226),_0x131ef5(0x284),_0x131ef5(0x22f),_0x131ef5(0x259),_0x131ef5(0x1fd),_0x131ef5(0x292),'bg-red-100\x20text-red-800',_0x131ef5(0x2e6),_0x131ef5(0x2b7),_0x131ef5(0x1e0),_0x131ef5(0x25b),'Listener\x20Firebase\x20desanexado\x20com\x20sucesso.',_0x131ef5(0x279),_0x131ef5(0x2c3),_0x131ef5(0x2cc),'getFullYear',_0x131ef5(0x211),_0x131ef5(0x2b3),_0x131ef5(0x1f2),'bg-blue-100\x20text-blue-900\x20rounded-r-lg\x20rounded-tl-lg','ID\x20do\x20modelo\x20inválido\x20após\x20sanitização\x20para\x20salvar\x20resposta.','Conexão\x20com\x20o\x20Firebase\x20perdida.\x20Tentando\x20reconectar...',_0x131ef5(0x290),_0x131ef5(0x1fe),_0x131ef5(0x2cf),'getItem',_0x131ef5(0x1de),_0x131ef5(0x275),_0x131ef5(0x294),_0x131ef5(0x1ee),'justify-start','Usando\x20ID\x20de\x20dispositivo\x20existente:',_0x131ef5(0x2b1),_0x131ef5(0x298),'Erro:\x20Usuário\x20não\x20configurado\x20corretamente.',_0x131ef5(0x27c),'error','Usuário\x20com\x20ID\x20\x27','</li>',_0x131ef5(0x2f7),_0x131ef5(0x1c5),_0x131ef5(0x2a7),_0x131ef5(0x25f),'Desconectado',_0x131ef5(0x20f),'own',_0x131ef5(0x2bb),_0x131ef5(0x212),_0x131ef5(0x1f4),'SDK\x20Gemini\x20não\x20inicializado.',_0x131ef5(0x2eb),_0x131ef5(0x23a),_0x131ef5(0x1e1),'generalChat/','Desconectado\x20do\x20Firebase...','Inicializando\x20chat\x20(',_0x131ef5(0x24a),'Erro:\x20ID\x20do\x20dispositivo\x20do\x20usuário\x20não\x20definido\x20para\x20carregar\x20\x27Meu\x20Chat\x27.',_0x131ef5(0x2be),_0x131ef5(0x273),_0x131ef5(0x2d7),'Não\x20foi\x20possível\x20determinar\x20o\x20caminho\x20para\x20salvar\x20a\x20resposta\x20do\x20Gemini.',_0x131ef5(0x2b5),_0x131ef5(0x285),'forEach',_0x131ef5(0x265),_0x131ef5(0x2ef),'Chat\x20Geral','placeholder',_0x131ef5(0x2a1),_0x131ef5(0x27e),'não\x20foi\x20possível\x20processar',_0x131ef5(0x2f2),'Use\x20apenas\x20letras,\x20números,\x20_\x20ou\x20-.\x20Sem\x20espaços.','\x27\x20(encontrado\x20ou\x20digitado)\x20não\x20existe\x20no\x20nó\x20/users.',_0x131ef5(0x2d3),_0x131ef5(0x219),_0x131ef5(0x213),_0x131ef5(0x1e8),'gaamini-teste-api.appspot.com',_0x131ef5(0x228),_0x131ef5(0x1d9),_0x131ef5(0x2ed),_0x131ef5(0x248),'<a\x20href=\x22$2\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20class=\x22text-blue-600\x20hover:underline\x22>$1</a>',_0x131ef5(0x264),_0x131ef5(0x27f),'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>',_0x131ef5(0x2da),_0x131ef5(0x2bf),'<br>',_0x131ef5(0x29d),_0x131ef5(0x2ae),'map',_0x131ef5(0x2ad),_0x131ef5(0x1bf),_0x131ef5(0x29f),_0x131ef5(0x205),_0x131ef5(0x26e),_0x131ef5(0x25d),'Modal\x20de\x20boas-vindas\x20não\x20encontrado\x20no\x20DOM.',_0x131ef5(0x1d6),_0x131ef5(0x23c),_0x131ef5(0x1bd),'Erro\x20interno\x20ao\x20preparar\x20para\x20salvar\x20resposta.','innerHTML','Erro\x20de\x20rede\x20ao\x20tentar\x20contatar\x20','\x20Detalhes:\x20',_0x131ef5(0x2b8),_0x131ef5(0x1c9),_0x131ef5(0x2c4),_0x131ef5(0x1fa),_0x131ef5(0x1cd),'preventDefault',_0x131ef5(0x229),_0x131ef5(0x26a),_0x131ef5(0x297),_0x131ef5(0x21d),_0x131ef5(0x2c9),_0x131ef5(0x2ac),_0x131ef5(0x26f),'keys',_0x131ef5(0x260),'Chat\x20de\x20',_0x131ef5(0x2bd),_0x131ef5(0x244),_0x131ef5(0x2d4),'click',_0x131ef5(0x2a0),_0x131ef5(0x2d5),_0x131ef5(0x2e8),_0x131ef5(0x2df),'limitToLast',_0x131ef5(0x291),'RESOURCE_EXHAUSTED',_0x131ef5(0x262),'status-indicator',_0x131ef5(0x2e4),_0x131ef5(0x2a4),_0x131ef5(0x1eb),'Erro\x20crítico:\x20SDK\x20Gemini\x20não\x20disponível\x20para\x20enviar\x20mensagem.',_0x131ef5(0x1c2),_0x131ef5(0x241),_0x131ef5(0x247),_0x131ef5(0x261),_0x131ef5(0x28b),_0x131ef5(0x2c0),_0x131ef5(0x254),_0x131ef5(0x251),_0x131ef5(0x2dc),_0x131ef5(0x255),_0x131ef5(0x216),_0x131ef5(0x256),_0x131ef5(0x2ab),'Erro:\x20ID\x20do\x20dispositivo\x20não\x20definido.',_0x131ef5(0x2ee),_0x131ef5(0x2e2),'general',_0x131ef5(0x246),_0x131ef5(0x1c1),_0x131ef5(0x225),_0x131ef5(0x272),'Salvar\x20e\x20Entrar',_0x131ef5(0x1cf),_0x131ef5(0x202),_0x131ef5(0x1e2),'admin',_0x131ef5(0x1db),_0x131ef5(0x215),'sistema',_0x131ef5(0x249),'-latest','promptFeedback',_0x131ef5(0x243),_0x131ef5(0x1da),_0x131ef5(0x201),_0x131ef5(0x204),_0x131ef5(0x234),_0x131ef5(0x293),_0x131ef5(0x266),_0x131ef5(0x207),_0x131ef5(0x26b),_0x131ef5(0x2c6),_0x131ef5(0x283),'startsWith',_0x131ef5(0x206),_0x131ef5(0x1d0),_0x131ef5(0x28e),_0x131ef5(0x29a),'name','push',_0x131ef5(0x23e),_0x131ef5(0x1f7),'DOMContentLoaded',_0x131ef5(0x2ce),_0x131ef5(0x1cc),_0x131ef5(0x1bc),_0x131ef5(0x242),_0x131ef5(0x214),'<li>',_0x131ef5(0x1d1),_0x131ef5(0x25e),_0x131ef5(0x25a),_0x131ef5(0x2e7),'val',')\x20salva\x20em\x20',_0x131ef5(0x224),'\x20devido\x20a:\x20','btn-other-chat',_0x131ef5(0x231),'timestamp',_0x131ef5(0x1ed),_0x131ef5(0x1c3),'gemini',_0x131ef5(0x2f3),'):\x20Erro\x20de\x20rede\x20ao\x20contatar\x20a\x20API\x20Gemini.\x20Verifique\x20sua\x20conexão.','btn-general-chat',_0x131ef5(0x1f9),_0x131ef5(0x1d7),'justify-end','Erro:\x20O\x20objeto\x20de\x20chat\x20não\x20está\x20inicializado.',_0x131ef5(0x1e7),_0x131ef5(0x20d),_0x131ef5(0x26c),_0x131ef5(0x2a8),_0x131ef5(0x2c2),_0x131ef5(0x1e4),_0x131ef5(0x2f0),_0x131ef5(0x257),_0x131ef5(0x203),_0x131ef5(0x232),'join',_0x131ef5(0x2f5),_0x131ef5(0x217),_0x131ef5(0x258),_0x131ef5(0x20c),_0x131ef5(0x210),'Não\x20foi\x20possível\x20identificar\x20o\x20usuário\x20\x27',_0x131ef5(0x2ca),_0x131ef5(0x2c7),'getMonth',_0x131ef5(0x267),'username',_0x131ef5(0x22e),'orderByChild',_0x131ef5(0x235),'ref','Listener\x20recebeu\x20snapshot\x20nulo:',_0x131ef5(0x2d0),_0x131ef5(0x2a9),_0x131ef5(0x296),_0x131ef5(0x218),_0x131ef5(0x1c7),_0x131ef5(0x2b6),_0x131ef5(0x280),_0x131ef5(0x29c),_0x131ef5(0x286),'<ol>','blockReason',_0x131ef5(0x1b8)];return _0x4360=function(){return _0x516e6d;},_0x4360();}try{if(!GEMINI_API_KEY||GEMINI_API_KEY===_0x4d5299(0x1c1))throw new Error(_0x4d5299(0xb5));genAI=new GoogleGenerativeAI(GEMINI_API_KEY);}catch(_0x22f9be){console[_0x4d5299(0x190)](_0x4d5299(0x84),_0x22f9be),alert(_0x4d5299(0x16b)+_0x22f9be[_0x4d5299(0x15d)]+_0x4d5299(0x169)),document[_0x228475(0x242)](_0x4d5299(0x122))[_0x4d5299(0xb3)]=!![],document[_0x4d5299(0xb8)](_0x4d5299(0x121))[_0x4d5299(0xb3)]=!![];}const messageForm=document[_0x4d5299(0xe2)](_0x4d5299(0x157)),messageInput=document[_0x4d5299(0xe2)](_0x228475(0x1ff)),messageSubmitButton=messageForm[_0x4d5299(0xb8)](_0x4d5299(0x1c8)),chatMessages=document[_0x4d5299(0xe2)](_0x4d5299(0xb1)),typingIndicator=document['getElementById'](_0x4d5299(0xff)),statusIndicator=document[_0x4d5299(0xe2)](_0x4d5299(0xa5)),statusText=document[_0x4d5299(0xe2)](_0x4d5299(0x7e)),connectionStatus=document[_0x4d5299(0xe2)](_0x4d5299(0x1b9)),messageCount=document[_0x4d5299(0xe2)](_0x4d5299(0x1a0)),modelSelect=document[_0x4d5299(0xe2)]('model-select'),deviceIdDisplay=document[_0x4d5299(0xe2)](_0x4d5299(0x9e)),btnGeneralChat=document[_0x4d5299(0xe2)](_0x4d5299(0xf5)),btnMyChat=document['getElementById'](_0x4d5299(0x194)),btnOtherChat=document[_0x228475(0x242)](_0x4d5299(0xed)),userSearchInput=document[_0x4d5299(0xe2)](_0x4d5299(0xfa)),currentChatInfo=document[_0x228475(0x242)](_0x4d5299(0x1ca)),welcomeModal=document[_0x228475(0x242)]('welcome-modal'),usernameInput=document[_0x4d5299(0xe2)](_0x4d5299(0x1b8)),saveUsernameBtn=document[_0x4d5299(0xe2)](_0x4d5299(0x183)),usernameDisplay=document[_0x4d5299(0xe2)](_0x4d5299(0x14b)),usernameError=document[_0x4d5299(0xe2)](_0x4d5299(0x13b));function sanitizeForFirebasePath(_0x1d2389){const _0x54bd92=_0x4d5299;if(!_0x1d2389)return'';return _0x1d2389[_0x54bd92(0x19b)](/[.#$[\]/]/g,'_');}function escapeHtml(_0xf5dcf9){const _0x38afcc=_0x228475,_0x3e4a6d=_0x4d5299;if(typeof _0xf5dcf9!==_0x3e4a6d(0xd7))return'';return _0xf5dcf9[_0x3e4a6d(0x19b)](/&/g,_0x3e4a6d(0xb0))[_0x38afcc(0x212)](/</g,_0x3e4a6d(0xd1))['replace'](/>/g,_0x3e4a6d(0x13c))[_0x3e4a6d(0x19b)](/"/g,_0x3e4a6d(0x158))[_0x3e4a6d(0x19b)](/'/g,_0x3e4a6d(0xd3));}function formatMarkdown(_0x96868e){const _0x4f3866=_0x228475,_0x51e3fe=_0x4d5299;if(typeof _0x96868e!==_0x4f3866(0x1d0))return'';const _0x479e0e={};let _0x49e1f4=0x0,_0x2b057a=_0x96868e[_0x4f3866(0x212)](/```([\s\S]*?)```/gs,(_0x459d04,_0x56c747)=>{const _0x129820=_0x4f3866,_0x2ae147=_0x2d99,_0x5c8dd1=_0x2ae147(0x135)+_0x49e1f4++ +'__';return _0x479e0e[_0x5c8dd1]=_0x129820(0x295)+escapeHtml(_0x56c747)+_0x2ae147(0xb9),_0x5c8dd1;});_0x2b057a=_0x2b057a[_0x51e3fe(0x19b)](/\[([^\]]+)\]\(([^)]+)\)/g,_0x51e3fe(0x1c0)),_0x2b057a=_0x2b057a[_0x4f3866(0x212)](/\*\*(.*?)\*\*/g,_0x51e3fe(0xa2)),_0x2b057a=_0x2b057a[_0x51e3fe(0x19b)](/(?<!\*)\*(?!\*)(.*?)(?<!\*)\*(?!\*)/g,_0x51e3fe(0x17e)),_0x2b057a=_0x2b057a[_0x51e3fe(0x19b)](/`([^`]+)`/g,(_0x293cdc,_0x2ec79f)=>_0x4f3866(0x281)+escapeHtml(_0x2ec79f)+_0x51e3fe(0x1bd));const _0x5145ea=_0x2b057a[_0x51e3fe(0x167)]('\x0a');let _0x179556=[],_0x28ea3d=null;_0x5145ea[_0x51e3fe(0x1ac)](_0x5dc96c=>{const _0x469cef=_0x4f3866,_0x376404=_0x51e3fe,_0x2752c6=_0x5dc96c[_0x376404(0x16d)](/^(\s*)([-*+])\s+(.*)/),_0x16bb35=_0x5dc96c['match'](/^(\s*)(\d+\.)\s+(.*)/);if(_0x2752c6){if(_0x28ea3d!=='ul'){if(_0x28ea3d)_0x179556[_0x376404(0xdb)]('</'+_0x28ea3d+'>');_0x179556[_0x376404(0xdb)](_0x376404(0xcd)),_0x28ea3d='ul';}_0x179556[_0x376404(0xdb)](_0x376404(0xe4)+_0x2752c6[0x3]+_0x376404(0x192));}else{if(_0x16bb35){if(_0x28ea3d!=='ol'){if(_0x28ea3d)_0x179556[_0x469cef(0x1ef)]('</'+_0x28ea3d+'>');_0x179556[_0x376404(0xdb)](_0x376404(0x11e)),_0x28ea3d='ol';}_0x179556[_0x376404(0xdb)](_0x376404(0xe4)+_0x16bb35[0x3]+_0x376404(0x192));}else _0x28ea3d&&(_0x179556[_0x376404(0xdb)]('</'+_0x28ea3d+'>'),_0x28ea3d=null),_0x179556['push'](_0x5dc96c);}}),_0x28ea3d&&_0x179556[_0x51e3fe(0xdb)]('</'+_0x28ea3d+'>'),_0x2b057a=_0x179556[_0x51e3fe(0x104)]('\x0a');for(const _0x11ef28 in _0x479e0e){_0x2b057a=_0x2b057a[_0x51e3fe(0x19b)](_0x11ef28,()=>_0x479e0e[_0x11ef28]);}const _0x10c075=_0x2b057a[_0x51e3fe(0x167)](/\n\s*\n/)[_0x51e3fe(0x1c9)](_0xff8bf5=>_0xff8bf5[_0x51e3fe(0xee)]())[_0x51e3fe(0xfc)](_0x206139=>_0x206139)[_0x51e3fe(0x1c9)](_0xbf159f=>{const _0x2b71db=_0x4f3866,_0xa74534=_0x51e3fe;if(_0xbf159f[_0xa74534(0x16d)](/^<(ul|ol|pre|h[1-6]|li|blockquote)/))return _0xbf159f;return _0xa74534(0xca)+_0xbf159f[_0x2b71db(0x212)](/\n/g,_0xa74534(0x1c6))+_0x2b71db(0x1f5);})[_0x4f3866(0x221)]('');return _0x10c075;}function formatTime(_0x508e0e){const _0x51d767=_0x228475,_0x2e42c2=_0x4d5299;if(!_0x508e0e||typeof _0x508e0e!==_0x51d767(0x1c4))return'';try{const _0x5962f7=new Date(_0x508e0e);if(isNaN(_0x5962f7[_0x2e42c2(0x1c7)]()))return'';const _0x4e2aaf=new Date(),_0x351d2f=_0x5962f7[_0x51d767(0x2d7)]()===_0x4e2aaf[_0x2e42c2(0x1a8)]()&&_0x5962f7['getMonth']()===_0x4e2aaf[_0x2e42c2(0x10d)]()&&_0x5962f7[_0x2e42c2(0x17b)]()===_0x4e2aaf['getFullYear']();return _0x351d2f?_0x5962f7[_0x2e42c2(0x137)]([],{'hour':_0x51d767(0x285),'minute':_0x2e42c2(0x1ab)}):_0x5962f7[_0x51d767(0x2d9)]([],{'day':_0x2e42c2(0x1ab),'month':_0x2e42c2(0x1ab),'year':_0x2e42c2(0x1ab),'hour':_0x2e42c2(0x1ab),'minute':_0x2e42c2(0x1ab)});}catch(_0x505828){return console[_0x2e42c2(0x190)](_0x2e42c2(0x153),_0x505828,_0x508e0e),'';}}function scrollToBottom(){setTimeout(()=>{const _0x569c15=_0x249c,_0x4d491b=_0x2d99;if(chatMessages)chatMessages[_0x4d491b(0x148)]=chatMessages[_0x569c15(0x230)];},0x64);}function updateMessageCountDisplay(){const _0x5ba53e=_0x228475,_0x2ef64d=_0x4d5299;let _0x14b63e=currentModelId[_0x2ef64d(0x19b)](_0x2ef64d(0xc8),'')[_0x2ef64d(0x19b)](_0x5ba53e(0x24f),_0x2ef64d(0x12e))[_0x5ba53e(0x212)](_0x5ba53e(0x1bb),'g-'),_0x43c8f3='';if(currentChatView===_0x2ef64d(0xba))_0x43c8f3=_0x2ef64d(0xaa);else{if(currentChatView===_0x2ef64d(0x199))_0x43c8f3=_0x2ef64d(0x171);else{if(currentChatView===_0x2ef64d(0x8c)&&targetChatId)_0x43c8f3=_0x2ef64d(0x19c)+targetChatId[_0x2ef64d(0x187)](0x0,0x6)+_0x5ba53e(0x220);else _0x43c8f3='?';}}if(messageCount)messageCount[_0x2ef64d(0xd0)]=messageCounter+_0x2ef64d(0xdc)+_0x43c8f3+_0x2ef64d(0x8f)+_0x14b63e+')';}function updateChatInfoLabel(){const _0x4649a7=_0x228475,_0x50410f=_0x4d5299;let _0x412d56=_0x50410f(0x16e);if(currentChatView===_0x50410f(0xba))_0x412d56+=_0x50410f(0x1af);else{if(currentChatView===_0x50410f(0x199))_0x412d56+=_0x50410f(0x160);else{if(currentChatView===_0x50410f(0x8c)&&targetChatId)_0x412d56+=_0x50410f(0x98)+targetChatId[_0x50410f(0x187)](0x0,0x8)+_0x50410f(0xf6);else _0x412d56+=_0x4649a7(0x2b2);}}if(currentChatInfo)currentChatInfo[_0x50410f(0xd0)]=_0x412d56;}function updateActiveButton(){const _0x2b117f=_0x4d5299;document[_0x2b117f(0x156)](_0x2b117f(0x149))[_0x2b117f(0x1ac)](_0x5e1360=>{const _0x233a2f=_0x249c,_0x1b8bdc=_0x2b117f;_0x5e1360[_0x1b8bdc(0xbd)][_0x1b8bdc(0x143)](_0x1b8bdc(0xc1)),_0x5e1360[_0x1b8bdc(0xbd)]['add'](_0x233a2f(0x20f));});const _0x11f743=currentChatView===_0x2b117f(0xba)?_0x2b117f(0xf5):currentChatView===_0x2b117f(0x199)?_0x2b117f(0x194):currentChatView===_0x2b117f(0x8c)?_0x2b117f(0xed):null;if(_0x11f743){const _0xba4da8=document[_0x2b117f(0xe2)](_0x11f743);_0xba4da8&&(_0xba4da8[_0x2b117f(0xbd)][_0x2b117f(0x99)](_0x2b117f(0xc1)),_0xba4da8[_0x2b117f(0xbd)][_0x2b117f(0x143)](_0x2b117f(0x198)));}}function getOrCreateDeviceId(){const _0x315a55=_0x228475,_0x271192=_0x4d5299;let _0x46f1cf=localStorage[_0x271192(0x185)](_0x271192(0x1a6));return!_0x46f1cf?(_0x46f1cf=_0x271192(0x15c)+Date[_0x315a55(0x267)]()+'-'+Math['random']()[_0x271192(0x174)](0x24)[_0x315a55(0x275)](0x2,0x8),localStorage[_0x271192(0xe3)](_0x271192(0x1a6),_0x46f1cf),console[_0x271192(0xe1)](_0x271192(0x14e),_0x46f1cf)):console[_0x315a55(0x1bc)](_0x271192(0x18b),_0x46f1cf),_0x46f1cf;}function startActivityUpdates(){const _0x2752e8=_0x4d5299;console[_0x2752e8(0xe1)](_0x2752e8(0xd6)),setInterval(async()=>{const _0x5b6575=_0x249c,_0x210954=_0x2752e8;if(USER_DEVICE_ID&&USERNAME)try{await database[_0x210954(0x113)](_0x210954(0xf7)+USER_DEVICE_ID)[_0x210954(0x150)]({'lastActive':firebase[_0x210954(0x11c)][_0x5b6575(0x2c0)][_0x5b6575(0x29b)],'username':USERNAME});}catch(_0x8fa2eb){console['error'](_0x210954(0x189),_0x8fa2eb);}},0xea60);}function updateUserDisplay(){const _0x1b0ca8=_0x4d5299;if(USERNAME&&usernameDisplay)usernameDisplay[_0x1b0ca8(0xd0)]=USERNAME,usernameDisplay[_0x1b0ca8(0xbd)][_0x1b0ca8(0x143)](_0x1b0ca8(0x129));else usernameDisplay&&(usernameDisplay[_0x1b0ca8(0xd0)]=_0x1b0ca8(0xf6),usernameDisplay[_0x1b0ca8(0xbd)][_0x1b0ca8(0x99)](_0x1b0ca8(0x129)));if(USER_DEVICE_ID&&deviceIdDisplay){const _0xb488ed=USER_DEVICE_ID[_0x1b0ca8(0x187)](0x0,0x8)+_0x1b0ca8(0xf6);deviceIdDisplay[_0x1b0ca8(0xd0)]=_0xb488ed,deviceIdDisplay[_0x1b0ca8(0x108)]=_0x1b0ca8(0x175)+USER_DEVICE_ID;}}async function saveUserToFirebase(){const _0x4bc0cd=_0x228475,_0xd6c79b=_0x4d5299;if(!USER_DEVICE_ID||!USERNAME){console[_0xd6c79b(0x190)](_0x4bc0cd(0x22c));return;}console[_0x4bc0cd(0x1bc)](_0xd6c79b(0xf0)+USER_DEVICE_ID+_0xd6c79b(0x94)+USERNAME);const _0x48803e=database[_0xd6c79b(0x113)](_0xd6c79b(0xf7)+USER_DEVICE_ID),_0x37cc76=database[_0xd6c79b(0x113)](_0xd6c79b(0xb4)+USERNAME);try{await _0x48803e[_0xd6c79b(0x150)]({'username':USERNAME,'lastActive':firebase['database'][_0x4bc0cd(0x2c0)][_0xd6c79b(0x154)]}),await _0x37cc76[_0x4bc0cd(0x2a2)](USER_DEVICE_ID),console[_0xd6c79b(0xe1)](_0xd6c79b(0x127));}catch(_0x417faa){console[_0xd6c79b(0x190)](_0x4bc0cd(0x20b),_0x417faa);}}function showWelcomeModal(){const _0x40c908=_0x228475,_0x57eef0=_0x4d5299;if(welcomeModal){welcomeModal[_0x40c908(0x225)][_0x40c908(0x2d1)](_0x57eef0(0x144));if(usernameInput)usernameInput[_0x57eef0(0x95)]();}else console[_0x57eef0(0x190)](_0x57eef0(0x81));}async function handleSaveUsername(){const _0x1b4954=_0x228475,_0x466d28=_0x4d5299,_0x1ecb1d=usernameInput[_0x466d28(0x147)][_0x466d28(0xee)]()[_0x466d28(0xe7)]();usernameError[_0x1b4954(0x266)]='';if(_0x1ecb1d[_0x466d28(0xe6)]<0x3||_0x1ecb1d[_0x466d28(0xe6)]>0xf){usernameError[_0x466d28(0xd0)]=_0x466d28(0x15e);return;}if(!/^[a-z0-9]+(?:[_-]?[a-z0-9]+)*$/i['test'](_0x1ecb1d)){usernameError[_0x1b4954(0x266)]=_0x466d28(0x1b5);return;}if([_0x466d28(0xc3),_0x1b4954(0x1ca),_0x466d28(0x176),_0x466d28(0xc6)][_0x466d28(0x162)](_0x1ecb1d)){usernameError[_0x1b4954(0x266)]='Esse\x20nome\x20não\x20é\x20permitido.';return;}saveUsernameBtn[_0x466d28(0xb3)]=!![],saveUsernameBtn['textContent']=_0x466d28(0xa8);try{const _0x145e6a=await database[_0x466d28(0x113)](_0x466d28(0xb4)+_0x1ecb1d)['once'](_0x466d28(0x147)),_0x157ba3=_0x145e6a['val']();if(_0x157ba3&&_0x157ba3!==USER_DEVICE_ID){const _0x2dc5ea=database[_0x466d28(0x113)](_0x466d28(0xf7)+_0x157ba3),_0x6e11fa=await _0x2dc5ea[_0x466d28(0xfb)](_0x1b4954(0x2f4)),_0x57af2d=_0x6e11fa[_0x466d28(0xe9)]();if(_0x57af2d){const _0x2a5e10=_0x57af2d[_0x466d28(0x16a)]||0x0,_0x296b5c=Date[_0x466d28(0x10e)](),_0x46aa37=0x5*0x3c*0x3e8;if(_0x296b5c-_0x2a5e10<_0x46aa37){usernameError[_0x1b4954(0x266)]='Este\x20nome\x20já\x20está\x20em\x20uso!',saveUsernameBtn[_0x466d28(0xb3)]=![],saveUsernameBtn[_0x466d28(0xd0)]=_0x466d28(0xbf);return;}else console[_0x466d28(0xe1)](_0x466d28(0x138)+_0x1ecb1d+_0x466d28(0xa0)+_0x157ba3),await database[_0x466d28(0x113)](_0x1b4954(0x216)+_0x1ecb1d)[_0x1b4954(0x2a2)](USER_DEVICE_ID),await _0x2dc5ea[_0x466d28(0x150)]({'username':null});}}USERNAME=_0x1ecb1d,localStorage[_0x466d28(0xe3)](_0x466d28(0x10f),USERNAME);if(welcomeModal)welcomeModal[_0x466d28(0xbd)][_0x466d28(0x99)](_0x466d28(0x144));updateUserDisplay(),await saveUserToFirebase(),console[_0x466d28(0xe1)](_0x466d28(0x165)+USERNAME+_0x466d28(0x103)),initialLoadComplete=!![],loadChatHistoryAndInit(),startActivityUpdates();}catch(_0x151f9c){console[_0x466d28(0x190)](_0x1b4954(0x268),_0x151f9c),usernameError[_0x466d28(0xd0)]=_0x1b4954(0x2e5),saveUsernameBtn[_0x466d28(0xb3)]=![],saveUsernameBtn[_0x1b4954(0x266)]=_0x466d28(0xbf);}}async function setupUser(){const _0xd21d51=_0x4d5299;USER_DEVICE_ID=getOrCreateDeviceId();const _0x79efd4=localStorage[_0xd21d51(0x185)](_0xd21d51(0x10f));updateUserDisplay(),!_0x79efd4?(console[_0xd21d51(0xe1)](_0xd21d51(0xbb)),showWelcomeModal()):(USERNAME=_0x79efd4,console[_0xd21d51(0xe1)](_0xd21d51(0x82)+USERNAME),updateUserDisplay(),await saveUserToFirebase(),initialLoadComplete=!![],loadChatHistoryAndInit(),startActivityUpdates());}async function initGeminiChat(_0x3db613=[],_0x317b0b){const _0x539674=_0x228475,_0x40ae11=_0x4d5299;chat=null;if(currentChatView!==_0x40ae11(0xba)&&currentChatView!==_0x40ae11(0x199))return console[_0x40ae11(0xe1)](_0x40ae11(0xa6),currentChatView),enableChatInput(![]),![];if(!genAI)return console[_0x40ae11(0x190)](_0x40ae11(0x19d)),appendSystemMessage(_0x539674(0x241),_0x40ae11(0x190)),![];if(!_0x317b0b)return console[_0x40ae11(0x190)](_0x539674(0x1c6)),appendSystemMessage(_0x539674(0x2b0),_0x40ae11(0x190)),![];appendSystemMessage(_0x40ae11(0x1a3)+currentChatView+_0x40ae11(0xf1)+_0x317b0b+'...'),enableChatInput(![]);try{console[_0x539674(0x1bc)](_0x40ae11(0x125)+_0x317b0b+_0x40ae11(0x1b7)+currentChatView);const _0x391b38=genAI['getGenerativeModel']({'model':_0x317b0b});return chat=_0x391b38[_0x539674(0x1e9)]({'history':_0x3db613,'generationConfig':{'maxOutputTokens':0x7d0}}),console[_0x40ae11(0xe1)](_0x40ae11(0x1c2)+_0x317b0b+'\x20-\x20'+currentChatView+_0x40ae11(0x145)+_0x3db613[_0x40ae11(0xe6)]+_0x40ae11(0x105)),appendSystemMessage(_0x539674(0x27f)+currentChatView+_0x40ae11(0x18d)),enableChatInput(!![]),!![];}catch(_0x155631){console[_0x40ae11(0x190)](_0x40ae11(0xb6)+_0x317b0b+_0x539674(0x1cc)+currentChatView+'):',_0x155631);let _0x261cc0='Falha\x20ao\x20inicializar\x20chat\x20('+currentChatView+_0x40ae11(0xf1)+_0x317b0b+'.';if(_0x155631[_0x40ae11(0x15d)]?.[_0x40ae11(0x162)](_0x539674(0x2e1)))_0x261cc0=_0x40ae11(0x141)+_0x317b0b+_0x40ae11(0x179);else{if(_0x155631[_0x40ae11(0x15d)]?.[_0x40ae11(0x162)](_0x40ae11(0x155))||_0x155631['message']?.[_0x539674(0x1e3)](_0x40ae11(0xe8)))_0x261cc0='Falha\x20('+_0x317b0b+_0x40ae11(0xf4);else{if(_0x155631[_0x40ae11(0x15d)]?.[_0x539674(0x1e3)]('404'))_0x261cc0=_0x40ae11(0x141)+_0x317b0b+_0x539674(0x2cd);else{if(_0x155631[_0x40ae11(0x15d)]?.[_0x40ae11(0x162)](_0x539674(0x227)))_0x261cc0=_0x40ae11(0x141)+_0x317b0b+_0x40ae11(0x1a7);else _0x155631[_0x40ae11(0x15d)]?.['includes'](_0x40ae11(0x12b))||_0x155631[_0x40ae11(0x15d)]?.[_0x40ae11(0x162)](_0x40ae11(0xa7))||_0x155631[_0x40ae11(0x15d)]?.['includes'](_0x40ae11(0xa3))?_0x261cc0=_0x40ae11(0x141)+_0x317b0b+_0x539674(0x282):_0x261cc0=_0x539674(0x2f6)+_0x317b0b+_0x40ae11(0x1aa)+(_0x155631[_0x539674(0x1ea)]||_0x40ae11(0x14d));}}}return appendSystemMessage(_0x261cc0,_0x40ae11(0x190)),enableChatInput(![]),![];}}function appendMessage(_0x30dc17,_0x2083a5=!![],_0x413db8=null){const _0x418a0e=_0x228475,_0x46e03f=_0x4d5299;if(!_0x30dc17||typeof _0x30dc17[_0x46e03f(0x123)]!=='string'||!chatMessages)return;const _0x5d6042=chatMessages[_0x46e03f(0xb8)](_0x46e03f(0xd4));if(_0x5d6042)_0x5d6042[_0x46e03f(0x143)]();const _0x413a7d=document[_0x418a0e(0x248)](_0x46e03f(0x118));if(_0x2083a5)_0x413a7d[_0x418a0e(0x225)][_0x46e03f(0x99)](_0x46e03f(0x8b));if(_0x413db8)_0x413a7d['id']=_0x46e03f(0xad)+_0x413db8;const _0x171a1b=_0x30dc17[_0x46e03f(0x123)],_0x1b8bce=_0x30dc17[_0x418a0e(0x238)]?formatTime(_0x30dc17[_0x46e03f(0xef)]):'',_0x19de6f=_0x30dc17[_0x46e03f(0xce)]||null;if(_0x30dc17[_0x46e03f(0x18c)]===_0x46e03f(0x186)){const _0xc81ba6=_0x19de6f===USER_DEVICE_ID,_0x113476=_0xc81ba6?_0x46e03f(0xf8):_0x46e03f(0x18a),_0x276720=_0xc81ba6?_0x46e03f(0x15f):_0x46e03f(0x17f),_0xb2e9c5=!_0xc81ba6&&_0x19de6f&&(currentChatView===_0x418a0e(0x27a)||currentChatView===_0x46e03f(0x8c)),_0x2be067=_0xb2e9c5?_0x46e03f(0x110)+_0x19de6f+'\x22>'+_0x19de6f[_0x46e03f(0x187)](0x0,0x6)+_0x418a0e(0x274):'';_0x413a7d[_0x46e03f(0x86)]=_0x46e03f(0x19a)+_0x113476+_0x46e03f(0xac)+_0x276720+_0x46e03f(0x17a)+escapeHtml(_0x171a1b)+'\x20'+_0x2be067+_0x418a0e(0x27d)+(_0xc81ba6?_0x46e03f(0x120):_0x46e03f(0x14c))+'\x20mt-1\x20text-right\x22>'+_0x1b8bce+_0x46e03f(0x13a);}else{const _0x5ac32d=formatMarkdown(_0x171a1b),_0x5d013d=_0x30dc17[_0x46e03f(0x146)]||_0x171a1b[_0x418a0e(0x25a)]()[_0x46e03f(0xd5)](_0x418a0e(0x223))||_0x171a1b[_0x46e03f(0xe7)]()[_0x46e03f(0xd5)](_0x418a0e(0x23b))||_0x171a1b[_0x46e03f(0xe7)]()[_0x418a0e(0x21c)](_0x418a0e(0x28f))||_0x171a1b[_0x46e03f(0xe7)]()[_0x46e03f(0x162)](_0x46e03f(0x1b3)),_0x2c3192=_0x5d013d?_0x46e03f(0x172):_0x418a0e(0x26d);_0x413a7d[_0x46e03f(0x86)]=_0x418a0e(0x1dd)+_0x2c3192+_0x418a0e(0x1f3)+_0x5ac32d+_0x46e03f(0x1c3)+_0x1b8bce+_0x46e03f(0x13a);}chatMessages[_0x46e03f(0xa4)](_0x413a7d),scrollToBottom();}function appendSystemMessage(_0x2bbc75,_0x2001fb=_0x4d5299(0xc0)){const _0x3b81f1=_0x228475,_0x2c289a=_0x4d5299;if(!chatMessages)return;const _0x3483c6=chatMessages[_0x2c289a(0xb8)](_0x2c289a(0xd4));if(_0x3483c6)_0x3483c6[_0x2c289a(0x143)]();const _0xe5011f=document[_0x2c289a(0x1bf)](_0x2c289a(0x118));_0xe5011f[_0x3b81f1(0x225)][_0x2c289a(0x99)](_0x2c289a(0x8b),_0x2c289a(0x196),_0x2c289a(0xeb),_0x3b81f1(0x2a5));let _0x2f1fc6=_0x3b81f1(0x1b6);if(_0x2001fb===_0x2c289a(0x190))_0x2f1fc6=_0x2c289a(0x172);else _0x2001fb===_0x3b81f1(0x21f)&&(_0x2f1fc6=_0x2c289a(0x164));_0xe5011f[_0x3b81f1(0x2de)]=_0x3b81f1(0x252)+_0x2f1fc6+_0x3b81f1(0x269)+escapeHtml(_0x2bbc75)+_0x2c289a(0x9b),chatMessages[_0x2c289a(0xa4)](_0xe5011f),scrollToBottom();}async function getGeminiResponse(_0x778a68){const _0x399267=_0x228475,_0x1e80a1=_0x4d5299;if(currentChatView!==_0x1e80a1(0xba)&&currentChatView!==_0x1e80a1(0x199)){console[_0x1e80a1(0x151)](_0x1e80a1(0x14f),currentChatView);return;}if(!chat){console[_0x1e80a1(0x190)](_0x399267(0x2b4)),appendSystemMessage(_0x399267(0x253),_0x399267(0x278)),enableChatInput(!![]);return;}if(!genAI){console[_0x399267(0x278)](_0x1e80a1(0x19d)),appendSystemMessage(_0x1e80a1(0xab),'error'),enableChatInput(!![]);return;}isGeminiTyping=!![];if(typingIndicator)typingIndicator[_0x1e80a1(0xbd)][_0x1e80a1(0x143)](_0x1e80a1(0x144));scrollToBottom();const _0x4e97db=sanitizeForFirebasePath(currentModelId);if(!_0x4e97db){console[_0x1e80a1(0x190)](_0x1e80a1(0x180)),appendSystemMessage(_0x1e80a1(0x85),_0x1e80a1(0x190)),isGeminiTyping=![];if(typingIndicator)typingIndicator[_0x1e80a1(0xbd)][_0x1e80a1(0x99)](_0x1e80a1(0x144));enableChatInput(!![]);return;}let _0x3e5838=null;if(currentChatView===_0x1e80a1(0xba))_0x3e5838=_0x1e80a1(0x1a1)+_0x4e97db;else currentChatView===_0x1e80a1(0x199)&&USER_DEVICE_ID&&(_0x3e5838=_0x1e80a1(0x161)+USER_DEVICE_ID+'/'+_0x4e97db);if(!_0x3e5838){console[_0x1e80a1(0x190)](_0x1e80a1(0x1a9)),appendSystemMessage(_0x1e80a1(0x12f),_0x1e80a1(0x190)),isGeminiTyping=![];if(typingIndicator)typingIndicator[_0x1e80a1(0xbd)][_0x1e80a1(0x99)](_0x1e80a1(0x144));enableChatInput(!![]);return;}try{console[_0x1e80a1(0xe1)](_0x399267(0x1c0)+currentModelId+_0x1e80a1(0xe0)+currentChatView+'):',_0x778a68);const _0x260dc9=await chat[_0x1e80a1(0x15a)](_0x778a68),_0x514344=await _0x260dc9[_0x1e80a1(0x126)],_0x5528ea=_0x514344[_0x1e80a1(0x123)]();console[_0x1e80a1(0xe1)](_0x1e80a1(0xe5)+currentModelId+'\x20-\x20'+currentChatView+'):',_0x5528ea);const _0x50f8a8=database[_0x1e80a1(0x113)](_0x3e5838)[_0x1e80a1(0xdb)]();await _0x50f8a8[_0x1e80a1(0x13e)]({'text':_0x5528ea,'sender':_0x1e80a1(0xf2),'timestamp':firebase[_0x1e80a1(0x11c)][_0x1e80a1(0xaf)][_0x399267(0x29b)],'deviceId':null,'isError':![]}),console[_0x399267(0x1bc)](_0x1e80a1(0x13d),_0x50f8a8[_0x399267(0x2eb)]);}catch(_0x1ebfab){console[_0x1e80a1(0x190)](_0x1e80a1(0x97)+currentModelId+_0x1e80a1(0xe0)+currentChatView+'):',_0x1ebfab);let _0x1b16ab=_0x399267(0x21b)+currentModelId+'.',_0xb3069d=!![];if(_0x1ebfab[_0x1e80a1(0x126)]?.[_0x399267(0x1f8)]?.[_0x1e80a1(0x11f)])_0x1b16ab=_0x1e80a1(0x142)+currentModelId+_0x1e80a1(0xec)+_0x1ebfab[_0x1e80a1(0x126)][_0x1e80a1(0xc9)][_0x1e80a1(0x11f)]+'.';else{if(_0x1ebfab[_0x399267(0x1ea)]?.[_0x1e80a1(0x162)](_0x1e80a1(0xa3))||_0x1ebfab['message']?.[_0x399267(0x1e3)](_0x399267(0x1f6)))_0x1b16ab=_0x1e80a1(0x195)+currentModelId+_0x1e80a1(0x12c);else{if(_0x1ebfab['message']?.[_0x399267(0x1e3)]('API\x20key\x20not\x20valid'))_0x1b16ab=_0x1e80a1(0x195)+currentModelId+_0x1e80a1(0xd8),_0xb3069d=![];else{if(_0x1ebfab[_0x1e80a1(0x15d)]?.['includes'](_0x1e80a1(0x155))||_0x1ebfab[_0x1e80a1(0x15d)]?.[_0x1e80a1(0x162)](_0x1e80a1(0xe8)))_0x1b16ab=_0x1e80a1(0x87)+currentModelId+_0x1e80a1(0xae);else _0x1ebfab[_0x399267(0x1ea)]&&(_0x1b16ab=_0x1e80a1(0x1c4)+currentModelId+_0x399267(0x2b5)+_0x1ebfab[_0x1e80a1(0x15d)]);}}}const _0x124780=database[_0x1e80a1(0x113)](_0x3e5838)[_0x1e80a1(0xdb)]();await _0x124780[_0x399267(0x2a2)]({'text':_0x1b16ab,'sender':_0x1e80a1(0xf2),'timestamp':firebase[_0x1e80a1(0x11c)][_0x399267(0x2c0)][_0x399267(0x29b)],'deviceId':null,'isError':!![]}),console[_0x1e80a1(0xe1)](_0x1e80a1(0xcf),_0x124780[_0x1e80a1(0x19e)]);}finally{isGeminiTyping=![];if(typingIndicator)typingIndicator[_0x1e80a1(0xbd)][_0x399267(0x2bd)](_0x1e80a1(0x144));enableChatInput(!![]);}}function enableChatInput(_0x5df716){const _0x34c147=_0x228475,_0x116897=_0x4d5299,_0x36d6d0=statusText[_0x116897(0xd0)]===_0x34c147(0x1b9),_0x1346b3=_0x5df716&&(currentChatView===_0x116897(0xba)||currentChatView===_0x34c147(0x2ea))&&!!chat&&!isGeminiTyping&&_0x36d6d0;if(messageInput){messageInput[_0x116897(0xb3)]=!_0x1346b3,messageInput[_0x116897(0xbd)][_0x116897(0x10b)]('bg-gray-100',!_0x1346b3),messageInput[_0x34c147(0x225)][_0x116897(0x10b)](_0x116897(0x188),!_0x1346b3);if(!_0x36d6d0)messageInput['placeholder']=_0x116897(0x1a2);else{if(currentChatView===_0x34c147(0x1fa))messageInput[_0x116897(0x1b0)]=_0x116897(0x152);else{if(!chat&&(currentChatView===_0x116897(0xba)||currentChatView===_0x116897(0x199)))messageInput[_0x34c147(0x20e)]=_0x116897(0x16f);else{if(isGeminiTyping)messageInput[_0x116897(0x1b0)]=_0x116897(0x163);else!_0x1346b3?messageInput[_0x116897(0x1b0)]=_0x116897(0x13f):messageInput[_0x116897(0x1b0)]=_0x116897(0x166);}}}}messageSubmitButton&&(messageSubmitButton[_0x34c147(0x255)]=!_0x1346b3,messageSubmitButton[_0x116897(0xbd)][_0x116897(0x10b)]('opacity-50',!_0x1346b3),messageSubmitButton[_0x34c147(0x225)][_0x116897(0x10b)](_0x34c147(0x294),!_0x1346b3));}async function loadChatHistoryAndInit(){const _0x48bb3e=_0x228475,_0x2eca24=_0x4d5299;if(!initialLoadComplete){console[_0x2eca24(0xe1)](_0x2eca24(0x1ba));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0x90);return;}console[_0x2eca24(0xe1)](_0x2eca24(0x1b2)+currentChatView+_0x2eca24(0x1a4)+currentModelId+_0x2eca24(0x12d)+(targetChatId||(currentChatView===_0x48bb3e(0x27a)?_0x2eca24(0xaa):_0x2eca24(0x171)))+'\x27'),enableChatInput(![]);if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0x178);messageCounter=0x0,updateMessageCountDisplay(),updateChatInfoLabel(),updateActiveButton();if(currentMessagesRef&&currentFirebaseListener){console[_0x48bb3e(0x1bc)](_0x2eca24(0x11b),currentMessagesRef[_0x48bb3e(0x2b7)]());try{currentMessagesRef[_0x2eca24(0x101)](_0x2eca24(0xc5),currentFirebaseListener),console[_0x2eca24(0xe1)](_0x2eca24(0x177));}catch(_0x5dae15){console[_0x2eca24(0x190)]('Erro\x20ao\x20tentar\x20desanexar\x20listener\x20Firebase:',_0x5dae15);}}else console[_0x2eca24(0xe1)](_0x2eca24(0x83),currentMessagesRef,_0x2eca24(0x132),typeof currentFirebaseListener);currentFirebaseListener=null,currentMessagesRef=null,chat=null,targetChatId=currentChatView===_0x2eca24(0x8c)?targetChatId:null;let _0x51761a=null;const _0x208d74=sanitizeForFirebasePath(currentModelId);if(!_0x208d74){const _0x42d2e0=_0x2eca24(0x130);console[_0x2eca24(0x190)](_0x42d2e0),appendSystemMessage(_0x42d2e0,_0x2eca24(0x190));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x48bb3e(0x1db)+_0x42d2e0+_0x2eca24(0x89);return;}if(currentChatView===_0x48bb3e(0x27a))_0x51761a=_0x48bb3e(0x2f1)+_0x208d74;else{if(currentChatView===_0x2eca24(0x199)&&USER_DEVICE_ID)_0x51761a=_0x2eca24(0x161)+USER_DEVICE_ID+'/'+_0x208d74;else{if(currentChatView===_0x2eca24(0x8c)){const _0x2a152a=userSearchInput[_0x48bb3e(0x2f4)][_0x2eca24(0xee)]();if(!_0x2a152a){appendSystemMessage(_0x48bb3e(0x1d4),_0x2eca24(0xc0));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0xfd);enableChatInput(![]);return;}appendSystemMessage(_0x2eca24(0x134)+_0x2a152a+_0x2eca24(0xf6),_0x2eca24(0xc0));let _0xf7aed7=null;if(!_0x2a152a[_0x2eca24(0xd5)](_0x2eca24(0x15c))){const _0x451c65=_0x2a152a[_0x48bb3e(0x25a)]();try{const _0x14382f=await database[_0x2eca24(0x113)](_0x2eca24(0xb4)+_0x451c65)[_0x2eca24(0xfb)](_0x2eca24(0x147));_0x14382f[_0x48bb3e(0x235)]()?(_0xf7aed7=_0x14382f[_0x2eca24(0xe9)](),console[_0x2eca24(0xe1)](_0x2eca24(0x165)+_0x2a152a+'\x27\x20encontrado.\x20ID:\x20'+_0xf7aed7)):console[_0x48bb3e(0x1bc)](_0x2eca24(0x165)+_0x2a152a+_0x2eca24(0x12a));}catch(_0x19fcf9){console[_0x2eca24(0x190)](_0x2eca24(0xfe),_0x19fcf9),appendSystemMessage('Erro\x20ao\x20buscar\x20nome\x20\x27'+_0x2a152a+'\x27.',_0x2eca24(0x190));}}if(!_0xf7aed7){if(_0x2a152a[_0x48bb3e(0x21c)](_0x2eca24(0x15c)))_0xf7aed7=_0x2a152a,console[_0x2eca24(0xe1)]('Termo\x20\x27'+_0x2a152a+'\x27\x20parece\x20ser\x20um\x20ID.\x20Verificando\x20existência...');else{appendSystemMessage('Usuário\x20\x27'+_0x2a152a+_0x2eca24(0x136),'error');if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0x11d)+escapeHtml(_0x2a152a)+_0x2eca24(0x17c);enableChatInput(![]);return;}}if(_0xf7aed7)try{const _0x28f2b9=await database[_0x48bb3e(0x2c5)]('users/'+_0xf7aed7)[_0x2eca24(0xfb)](_0x2eca24(0x147));if(!_0x28f2b9[_0x2eca24(0x112)]()){console[_0x2eca24(0x151)](_0x2eca24(0x15b)+_0xf7aed7+_0x2eca24(0x1b6)),appendSystemMessage(_0x2eca24(0x191)+_0xf7aed7[_0x2eca24(0x187)](0x0,0x8)+'...\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.',_0x2eca24(0x190));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0x16c);enableChatInput(![]);return;}else targetChatId=_0xf7aed7,_0x51761a=_0x48bb3e(0x1cb)+targetChatId+'/'+_0x208d74,console[_0x2eca24(0xe1)](_0x2eca24(0xf3)+targetChatId),appendSystemMessage(_0x2eca24(0xdf)+targetChatId+'\x27.',_0x2eca24(0xc0));}catch(_0x27abc4){console[_0x2eca24(0x190)](_0x2eca24(0x182)+_0xf7aed7+':',_0x27abc4),appendSystemMessage(_0x48bb3e(0x25c),_0x2eca24(0x190)),enableChatInput(![]);return;}else{appendSystemMessage(_0x2eca24(0x10a)+_0x2a152a+'\x27.',_0x48bb3e(0x278));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0x168);enableChatInput(![]);return;}}}}if(!_0x51761a){const _0x3da375=currentChatView===_0x2eca24(0x199)&&!USER_DEVICE_ID?_0x2eca24(0x1a5):_0x2eca24(0x1ad);console[_0x2eca24(0x190)](_0x3da375),appendSystemMessage(_0x3da375,_0x2eca24(0x190));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0xc4)+_0x3da375+_0x2eca24(0x89);enableChatInput(![]);return;}currentMessagesRef=database[_0x2eca24(0x113)](_0x51761a),console[_0x2eca24(0xe1)](_0x2eca24(0xd2)+_0x51761a);try{const _0x52d931=await currentMessagesRef[_0x2eca24(0x111)](_0x2eca24(0xef))[_0x2eca24(0xa1)](0x32)[_0x48bb3e(0x20d)](_0x2eca24(0x147)),_0x12dfd5=_0x52d931[_0x2eca24(0xe9)](),_0x3b3b06=[];let _0x1109d9=0x0;if(chatMessages)chatMessages[_0x48bb3e(0x2de)]='';if(_0x12dfd5){console[_0x2eca24(0xe1)](_0x48bb3e(0x2ec)+currentChatView+':\x20'+Object[_0x48bb3e(0x28a)](_0x12dfd5)[_0x2eca24(0xe6)]+_0x2eca24(0x173));const _0x25b732=Object[_0x2eca24(0x96)](_0x12dfd5)[_0x48bb3e(0x21a)]((_0x2f8c3f,_0xa2a179)=>_0x12dfd5[_0x2f8c3f][_0x2eca24(0xef)]-_0x12dfd5[_0xa2a179][_0x2eca24(0xef)]);_0x25b732[_0x2eca24(0x1ac)](_0x30dd6d=>{const _0x21d0bc=_0x48bb3e,_0xc74ec2=_0x2eca24;messageCounter++;const _0x1b9ca4=_0x12dfd5[_0x30dd6d];if(_0x1b9ca4&&_0x1b9ca4[_0xc74ec2(0xef)]){appendMessage(_0x1b9ca4,![],_0x30dd6d),_0x1109d9=Math[_0xc74ec2(0xb2)](_0x1109d9,_0x1b9ca4[_0xc74ec2(0xef)]);if((currentChatView===_0xc74ec2(0xba)||currentChatView===_0xc74ec2(0x199))&&typeof _0x1b9ca4['text']===_0xc74ec2(0xd7)&&!_0x1b9ca4[_0xc74ec2(0x146)]){const _0x25d82e=_0x1b9ca4[_0xc74ec2(0x18c)]===_0xc74ec2(0x186)?_0x21d0bc(0x1de):'model',_0x472795=_0x1b9ca4[_0xc74ec2(0x123)];_0x472795[_0xc74ec2(0xee)]()?_0x3b3b06[_0xc74ec2(0xdb)]({'role':_0x25d82e,'parts':[{'text':_0x472795}]}):console[_0xc74ec2(0x151)](_0xc74ec2(0x109),_0x30dd6d);}}else console[_0xc74ec2(0x151)](_0xc74ec2(0x184),_0x30dd6d,_0x1b9ca4);});if(_0x25b732[_0x2eca24(0xe6)]===0x0){if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x2eca24(0xbe);}}else{console[_0x48bb3e(0x1bc)](_0x48bb3e(0x288)+_0x51761a+'.');if(chatMessages)chatMessages[_0x2eca24(0x86)]='<div\x20class=\x22text-center\x20text-gray-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-comments\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Nenhuma\x20mensagem\x20neste\x20chat\x20ainda.</p></div>';}updateMessageCountDisplay(),scrollToBottom();let _0x33bd97=![];currentChatView===_0x48bb3e(0x27a)||currentChatView===_0x2eca24(0x199)?_0x33bd97=await initGeminiChat(_0x3b3b06,currentModelId):(_0x33bd97=!![],console[_0x2eca24(0xe1)](_0x2eca24(0x139)),enableChatInput(![]));if(_0x33bd97&&currentMessagesRef){currentFirebaseListener=_0x4c21aa=>{const _0x382a93=_0x48bb3e,_0x233176=_0x2eca24,_0x514875=_0x4c21aa[_0x233176(0xe9)](),_0x3d097a=_0x4c21aa[_0x233176(0x19e)];if(_0x514875&&!document[_0x233176(0xe2)](_0x233176(0xad)+_0x3d097a))console[_0x233176(0xe1)](_0x382a93(0x2dd)+currentChatView+'):',_0x3d097a),messageCounter++,appendMessage(_0x514875,!![],_0x3d097a),updateMessageCountDisplay();else!_0x514875&&console[_0x233176(0x151)](_0x233176(0x114),_0x3d097a);};const _0x2771f5=_0x1109d9>0x0?_0x1109d9+0x1:Date[_0x48bb3e(0x267)]();currentMessagesRef[_0x2eca24(0x111)](_0x2eca24(0xef))[_0x48bb3e(0x287)](_0x2771f5)['on'](_0x2eca24(0xc5),currentFirebaseListener),console['log'](_0x48bb3e(0x2aa)+_0x51761a+_0x2eca24(0x159)+new Date(_0x2771f5)[_0x48bb3e(0x289)]()),currentChatView!==_0x48bb3e(0x1fa)&&enableChatInput(_0x33bd97);}else console[_0x2eca24(0x151)](_0x2eca24(0x8a)),!_0x33bd97&&(currentChatView===_0x2eca24(0xba)||currentChatView===_0x2eca24(0x199))&&appendSystemMessage(_0x2eca24(0x1bc),_0x48bb3e(0x278)),enableChatInput(![]);}catch(_0x40c336){console[_0x2eca24(0x190)](_0x2eca24(0x116)+_0x51761a+':',_0x40c336);let _0x561a04=_0x2eca24(0x10c);_0x40c336[_0x2eca24(0x15d)]?.[_0x2eca24(0xe7)]()[_0x2eca24(0x162)](_0x2eca24(0x7f))||_0x40c336[_0x2eca24(0x1cb)]?.[_0x2eca24(0xe7)]()[_0x48bb3e(0x1e3)](_0x48bb3e(0x26e))?(_0x561a04=_0x2eca24(0x140)+_0x51761a+_0x2eca24(0x102),currentChatView===_0x2eca24(0x8c)&&(_0x561a04+='\x20Para\x20ver\x20o\x20chat\x20de\x20outro\x20usuário,\x20as\x20regras\x20para\x20\x27/userChats/$userId\x27\x20devem\x20permitir\x20leitura.')):_0x561a04+=_0x2eca24(0x88)+_0x40c336[_0x2eca24(0x15d)],appendSystemMessage(_0x561a04,_0x2eca24(0x190));if(chatMessages)chatMessages[_0x2eca24(0x86)]=_0x48bb3e(0x1fc);enableChatInput(![]);}}function populateModelSelector(){const _0x34aa56=_0x228475,_0x58704e=_0x4d5299;if(!modelSelect)return;modelSelect[_0x34aa56(0x2de)]='',AVAILABLE_MODELS[_0x58704e(0x1ac)](_0x57b8c6=>{const _0x212842=_0x34aa56,_0x4dcbb1=_0x58704e,_0x4c4b85=document[_0x4dcbb1(0x1bf)](_0x4dcbb1(0x9f));_0x4c4b85[_0x4dcbb1(0x147)]=_0x57b8c6['id'],_0x4c4b85[_0x4dcbb1(0xd0)]=_0x57b8c6[_0x4dcbb1(0xda)],_0x57b8c6['id']===currentModelId&&(_0x4c4b85[_0x212842(0x271)]=!![]),modelSelect[_0x4dcbb1(0xa4)](_0x4c4b85);});}connectedRef['on'](_0x4d5299(0x147),_0x190ee2=>{const _0x3728d2=_0x228475,_0x53bae2=_0x4d5299,_0x3a03f3=_0x190ee2[_0x53bae2(0xe9)]();console[_0x53bae2(0xe1)](_0x3728d2(0x1fb),_0x3a03f3),statusIndicator&&(statusIndicator[_0x53bae2(0xbd)][_0x53bae2(0x10b)](_0x53bae2(0xc7),_0x3a03f3),statusIndicator[_0x53bae2(0xbd)][_0x53bae2(0x10b)](_0x53bae2(0x19f),!_0x3a03f3),statusIndicator[_0x3728d2(0x225)][_0x53bae2(0x10b)]('animate-pulse',!_0x3a03f3));if(statusText)statusText[_0x53bae2(0xd0)]=_0x3a03f3?_0x53bae2(0x14a):_0x3728d2(0x1b7);if(connectionStatus)connectionStatus[_0x3728d2(0x266)]=_0x3a03f3?_0x53bae2(0x1c5):_0x53bae2(0x197);enableChatInput(_0x3a03f3),!_0x3a03f3?appendSystemMessage(_0x53bae2(0x181),_0x53bae2(0x190)):console[_0x53bae2(0xe1)](_0x53bae2(0x1b1));}),modelSelect&&modelSelect[_0x4d5299(0x1b4)](_0x4d5299(0x131),_0x24a2f2=>{const _0x472e6d=_0x228475,_0x1b44a4=_0x4d5299,_0x6d2558=_0x24a2f2[_0x1b44a4(0xcc)][_0x1b44a4(0x147)];_0x6d2558!==currentModelId&&(currentModelId=_0x6d2558,console[_0x472e6d(0x1bc)](_0x1b44a4(0x9a)+currentModelId),loadChatHistoryAndInit());}),btnGeneralChat&&btnGeneralChat[_0x4d5299(0x1b4)](_0x4d5299(0x9c),()=>{const _0x5f1f82=_0x4d5299;if(currentChatView!==_0x5f1f82(0xba)){currentChatView=_0x5f1f82(0xba),targetChatId=null;if(userSearchInput)userSearchInput[_0x5f1f82(0x147)]='';loadChatHistoryAndInit();}}),btnMyChat&&btnMyChat['addEventListener'](_0x4d5299(0x9c),()=>{const _0x543f30=_0x228475,_0x370b81=_0x4d5299;if(!USER_DEVICE_ID){appendSystemMessage(_0x370b81(0xb7),_0x370b81(0x190)),showWelcomeModal();return;}if(currentChatView!==_0x370b81(0x199)){currentChatView=_0x370b81(0x199),targetChatId=null;if(userSearchInput)userSearchInput[_0x543f30(0x2f4)]='';loadChatHistoryAndInit();}}),btnOtherChat&&btnOtherChat[_0x228475(0x2f2)](_0x228475(0x2c1),()=>{const _0x52f8aa=_0x228475,_0x32d38e=_0x4d5299,_0x2550ed=userSearchInput[_0x32d38e(0x147)][_0x32d38e(0xee)]();if(!_0x2550ed){appendSystemMessage(_0x52f8aa(0x22b),_0x32d38e(0xc0)),userSearchInput[_0x32d38e(0x95)]();return;}currentChatView=_0x52f8aa(0x1fa),loadChatHistoryAndInit();});function _0x2d99(_0x15c527,_0x154213){const _0x18b99a=_0x4360();return _0x2d99=function(_0x19a90b,_0x22c6c){_0x19a90b=_0x19a90b-0x7d;let _0x41902c=_0x18b99a[_0x19a90b];return _0x41902c;},_0x2d99(_0x15c527,_0x154213);}userSearchInput&&userSearchInput[_0x4d5299(0x1b4)](_0x4d5299(0x193),_0x14cdc1=>{const _0x438416=_0x4d5299;_0x14cdc1[_0x438416(0x19e)]===_0x438416(0x170)&&(_0x14cdc1[_0x438416(0x8e)](),btnOtherChat[_0x438416(0x9c)]());}),messageForm&&messageForm[_0x4d5299(0x1b4)](_0x4d5299(0x133),async _0x4ef5a1=>{const _0x188f8f=_0x228475,_0x1bbc95=_0x4d5299;_0x4ef5a1[_0x1bbc95(0x8e)]();const _0x1bcdc9=messageInput[_0x188f8f(0x2f4)][_0x188f8f(0x231)]();if(!_0x1bcdc9)return;if(currentChatView===_0x1bbc95(0x8c)){appendSystemMessage(_0x188f8f(0x270),_0x1bbc95(0x190));return;}if(currentChatView!==_0x1bbc95(0xba)&&currentChatView!==_0x1bbc95(0x199)){appendSystemMessage(_0x1bbc95(0x18f),_0x1bbc95(0x190));return;}if(!USER_DEVICE_ID||!USERNAME){appendSystemMessage(_0x1bbc95(0x18e),_0x1bbc95(0x190)),showWelcomeModal();return;}if(!chat){appendSystemMessage(_0x1bbc95(0xf9),_0x1bbc95(0x190));return;}if(!genAI){appendSystemMessage(_0x1bbc95(0xa9),_0x1bbc95(0x190));return;}let _0x13b5b0=null;const _0x498cad=sanitizeForFirebasePath(currentModelId);if(!_0x498cad){appendSystemMessage(_0x1bbc95(0x8d),_0x188f8f(0x278));return;}if(currentChatView===_0x1bbc95(0xba))_0x13b5b0=_0x1bbc95(0x1a1)+_0x498cad;else currentChatView===_0x188f8f(0x2ea)&&(_0x13b5b0=_0x1bbc95(0x161)+USER_DEVICE_ID+'/'+_0x498cad);if(!_0x13b5b0){appendSystemMessage('Erro\x20interno:\x20Não\x20foi\x20possível\x20determinar\x20onde\x20salvar\x20sua\x20mensagem.',_0x188f8f(0x278));return;}enableChatInput(![]);const _0x249367={'text':_0x1bcdc9,'sender':'user','timestamp':firebase['database'][_0x1bbc95(0xaf)][_0x1bbc95(0x154)],'deviceId':USER_DEVICE_ID,'username':USERNAME},_0x14b283=database[_0x1bbc95(0x113)](_0x13b5b0)[_0x1bbc95(0xdb)]();try{await _0x14b283[_0x1bbc95(0x13e)](_0x249367),console[_0x1bbc95(0xe1)](_0x1bbc95(0x117)+USERNAME+'/'+USER_DEVICE_ID+_0x1bbc95(0xea)+_0x13b5b0+':',_0x14b283[_0x1bbc95(0x19e)]),messageInput['value']='',await getGeminiResponse(_0x1bcdc9);}catch(_0x361bf6){console[_0x1bbc95(0x190)](_0x1bbc95(0x92),_0x361bf6),appendSystemMessage(_0x188f8f(0x208),_0x1bbc95(0x190)),enableChatInput(!![]);}finally{!messageInput[_0x1bbc95(0xb3)]&&messageInput[_0x1bbc95(0x95)]();}}),saveUsernameBtn&&saveUsernameBtn[_0x4d5299(0x1b4)](_0x4d5299(0x9c),handleSaveUsername),usernameInput&&usernameInput[_0x4d5299(0x1b4)](_0x228475(0x2f7),_0xedd34=>{const _0x1a6e3e=_0x4d5299;_0xedd34[_0x1a6e3e(0x19e)]===_0x1a6e3e(0x170)&&handleSaveUsername();}),window[_0x4d5299(0x1b4)](_0x4d5299(0xde),()=>{const _0x566b64=_0x4d5299;console[_0x566b64(0xe1)](_0x566b64(0x1be)),populateModelSelector(),setupUser();if(messageInput)messageInput[_0x566b64(0x95)]();console[_0x566b64(0xe1)](_0x566b64(0xcb));});function _0x24b7(){const _0x1e83f5=['Desconhecido','gaamini-teste-api','Objeto\x20\x27chat\x27\x20não\x20inicializado\x20em\x20getGeminiResponse.','):\x20','2516670eVwGfp','toString','</p></div>','Erro\x20formatar\x20hora:','.\x20A\x20funcionalidade\x20de\x20IA\x20pode\x20não\x20funcionar.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20','bg-green-100\x20text-green-800','add','userDeviceId','Conectado\x20Firebase','ServerValue','click','Erro\x20ao\x20buscar\x20username\x20no\x20Firebase:','):\x20Chave\x20da\x20API\x20Gemini\x20inválida\x20ou\x20expirada.\x20Verifique\x20a\x20chave\x20no\x20código.','message-enter','ref','&#039;','Erro\x20grave\x20ao\x20carregar\x20o\x20histórico\x20do\x20chat.','sendMessage','AIzaSyDF5wOFJPEuhrlD9s0m1ZjYLg-IIPWsCRg','toggle','Visualizando\x20chat\x20de\x20outro\x20usuário...','\x20px-3\x20py-2\x20max-w-[80%]\x20sm:max-w-[75%]\x20break-words\x20text-sm\x20sm:text-base\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','):\x20Modelo\x20não\x20encontrado\x20(404).\x20Verifique\x20o\x20ID\x20do\x20modelo.','⚠️\x20Lembre-se:\x20Para\x20ver\x20o\x20chat\x20de\x20outro\x20usuário,\x20as\x20Regras\x20de\x20Segurança\x20do\x20Firebase\x20devem\x20permitir\x20leitura\x20em\x20\x27userChats/','Mensagem\x20inválida\x20ou\x20sem\x20timestamp\x20encontrada\x20no\x20histórico:','4618540nveCqL','remove','user-',',\x20view:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','device-id-display','6637900COWczi','getDate','lastActive','toLocaleTimeString','Erro\x20Gemini\x20(','\x27,\x20Target=\x27','max','Nova\x20mensagem\x20recebida\x20via\x20listener\x20(','innerHTML','\x20do\x20usuário\x20','350316JvtSEC','API\x20key\x20not\x20valid','</code></pre>','warn','Não\x20inicializando\x20objeto\x20\x27chat\x27\x20para\x20a\x20view:','Erro\x20ao\x20verificar.\x20Tente\x20novamente.','\x20mensagens.','Network\x20Error','option','#message-form\x20button[type=\x22submit\x22]','own','key','Histórico\x20inicial\x20carregado\x20para\x20','DOM\x20Carregado.\x20Iniciando\x20aplicação...','querySelector','2536udKQQI','2976820lxVIkx','generalChat/','addEventListener','Visualizando\x20chat\x20para\x20ID:\x20','value','\x20mensagens\x20no\x20histórico.','Falha\x20(','keypress','scrollTop','&gt;','bg-yellow-100\x20text-yellow-800','Offline','text-indigo-200','Online','response','gemini-','log','Erro\x20ao\x20inicializar\x20SDK\x20Gemini:','<div\x20class=\x22text-center\x20text-red-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-question-circle\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Não\x20foi\x20possível\x20encontrar\x20o\x20usuário.</p></div>','code','Enviando\x20para\x20Gemini\x20(','2HwBcGZ','Geral',')\x20com\x20','number','btn-my-chat','ID\x20do\x20modelo\x20não\x20fornecido\x20para\x20initGeminiChat.','7561533TPKTje','username-error','Inicialização\x20do\x20Gemini\x20falhou\x20ou\x20referência\x20Firebase\x20inválida.\x20Listener\x20não\x20anexado.','gemini','userChats/','\x20-\x20','Erro:\x20ID\x20do\x20modelo\x20inválido\x20ao\x20tentar\x20salvar\x20mensagem.','__CB_','info','string','Resposta\x20recebida\x20de\x20Gemini\x20(','779487hhspIW','bg-indigo-600\x20text-white\x20rounded-l-lg\x20rounded-tr-lg','Por\x20favor,\x20insira\x20um\x20nome\x20de\x20usuário\x20ou\x20ID\x20para\x20buscar.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Nome\x20de\x20usuário\x20encontrado\x20localmente:\x20','users/','pulse','</code>','Interface\x20inicializada.','<div\x20class=\x22text-center\x20text-red-500\x20py-10\x22><p>','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-start\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','user','Aguardando\x20resposta\x20do\x20Gemini...','ID\x20Completo:\x20','message-count','Gemini\x201.5\x20Flash','includes','typing-indicator','.info/connected','Erro\x20de\x20Permissão\x20ao\x20acessar\x20','user-search-input','Aguardando\x20configuração\x20inicial\x20do\x20usuário\x20antes\x20de\x20carregar\x20o\x20chat.','startChat','message','Verificando...','Meu\x20Chat\x20Pessoal','Salvando/Atualizando\x20usuário\x20no\x20Firebase:\x20ID=','Erro\x20ao\x20atualizar\x20status\x20de\x20atividade:','push','Digite\x20sua\x20mensagem...','text-blue-400','<em>$1</em>','\x20rounded-r-lg\x20rounded-tl-lg\x20px-3\x20py-2\x20max-w-[80%]\x20sm:max-w-[75%]\x20break-words\x20text-sm\x20sm:text-base\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22markdown-content\x22>','Outro\x20(','</p>','Quota','1:1080485760423:web:8e4befd62dbf6106ff7a82','promptFeedback','...','other','Status\x20Conexão\x20Firebase:','<div\x20class=\x22text-center\x20text-red-500\x20py-10\x22><p>Erro\x20ao\x20carregar\x20dados!\x20Verifique\x20as\x20permissões\x20ou\x20o\x20console\x20para\x20detalhes.</p></div>','Enter','save-username-btn','message-input','username-display','target','chat-view-button-active','.\x20Verifique\x20as\x20Regras\x20de\x20Segurança\x20do\x20Firebase\x20Database.','<ul>','status-text','Iniciando\x20atualizações\x20de\x20status\x20de\x20atividade','&lt;','Erro\x20ao\x20enviar\x20sua\x20mensagem.\x20Verifique\x20sua\x20conexão\x20e\x20tente\x20novamente.','Nome\x20de\x20usuário\x20\x27','Mensagem\x20bloqueada\x20por\x20','Erro\x20ao\x20salvar\x20dados\x20do\x20usuário\x20no\x20Firebase:','title','once','placeholder','chat-view-button','Mensagem\x20com\x20texto\x20vazio\x20encontrada\x20no\x20histórico,\x20pulando\x20para\x20Gemini:','\x27\x20não\x20encontrado.</p></div>','replace','connection-status','setItem','child_added','usernames/','gemini-1.5-flash-latest','div','username-input','sort','Erro\x20ao\x20processar\x20sua\x20mensagem\x20com\x20','startsWith','Erro\x20ao\x20salvar\x20mensagem\x20do\x20usuário\x20no\x20Firebase:','412657VxxpWh','success','...)','join','818JMwvZG','erro','justify-center','classList','<div\x20class=\x22text-center\x20text-red-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-user-slash\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Usuário\x20não\x20existe.</p></div>','400','O\x20chat\x20não\x20pôde\x20ser\x20iniciado\x20corretamente.\x20O\x20envio\x20de\x20mensagens\x20está\x20desabilitado.','\x20/\x20','shift','Digite\x20um\x20nome\x20ou\x20ID\x20de\x20usuário\x20para\x20buscar.','Tentativa\x20de\x20salvar\x20usuário\x20no\x20Firebase\x20sem\x20ID\x20ou\x20Nome.','1361875xFzAMe','<span\x20class=\x22user-id-tag\x22\x20title=\x22ID:\x20','Visualizando:\x20','scrollHeight','trim','\x27\x20definido\x20e\x20salvo.','.chat-view-button','deviceId','exists','):\x20Cota\x20da\x20API\x20excedida.\x20Não\x20é\x20possível\x20processar\x20mais\x20mensagens\x20no\x20momento.','Liberando\x20nome\x20inativo\x20','timestamp','Não\x20inicializando\x20objeto\x20de\x20chat\x20Gemini\x20para\x20view\x20\x27other\x27.','bg-red-500','falha','Nenhum\x20listener/ref\x20Firebase\x20anterior\x20para\x20desanexar\x20(ou\x20um\x20deles\x20era\x20null).\x20Ref:','Erro\x20crítico:\x20','\x20msgs\x20(','hidden','825991DqLncE','Erro\x20crítico:\x20SDK\x20Gemini\x20não\x20disponível.','getElementById','<p>','Modelo\x20selecionado:\x20','\x20começando\x20em\x20','Nenhum\x20nome\x20de\x20usuário\x20local\x20encontrado.\x20Mostrando\x20modal.','\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','createElement','bg-green-500','\x27,\x20Model=\x27','Iniciando\x20modelo:\x20','Erro\x20desconhecido\x20na\x20API\x20Gemini.','Erro\x20interno\x20ao\x20salvar\x20a\x20resposta.','1080485760423','gemini-1.5-','4fYzXoG','chat-messages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','Erro:\x20O\x20chat\x20não\x20está\x20pronto\x20para\x20receber\x20mensagens.','&amp;','disabled','Chave\x20da\x20API\x20Gemini\x20não\x20configurada!','off','Erro\x20crítico:\x20Não\x20foi\x20possível\x20conectar\x20ao\x20Firebase.','Inicializando\x20chat...','toLowerCase','geral','Erro\x20ao\x20verificar\x20usuário.\x20Tente\x20novamente.','1374081zPuUTu','length','flex','Erro\x20ao\x20comunicar\x20com\x20Gemini\x20ou\x20salvar\x20resposta\x20(','msg-','appendChild','Buscando\x20usuário:\x20','AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXX','Não\x20foi\x20possível\x20determinar\x20o\x20caminho\x20del\x20chat\x20no\x20Firebase.','textContent','now','Erro\x20ao\x20verificar/salvar\x20nome\x20de\x20usuário:','\x20rounded-xl\x20px-3\x20py-1.5\x20max-w-[90%]\x20sm:max-w-md\x20lg:max-w-lg\x20text-xs\x20sm:text-sm\x20text-center\x20system-message\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<div\x20class=\x22text-center\x20text-gray-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-user-clock\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Por\x20favor,\x20defina\x20seu\x20nome\x20de\x20usuário\x20primeiro.</p></div>','Definida\x20nova\x20referência\x20Firebase\x20para:\x20','filter','bg-gray-100\x20sm:bg-gray-200\x20text-gray-800','permission_denied','focus','Você\x20não\x20pode\x20enviar\x20mensagens\x20no\x20chat\x20de\x20outro\x20usuário.','selected','<div\x20class=\x22text-center\x20text-gray-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-comments\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Nenhuma\x20mensagem\x20neste\x20chat\x20ainda.</p></div>','):\x20Requisição\x20inválida\x20(400).\x20Pode\x20ser\x20um\x20problema\x20no\x20histórico\x20ou\x20configuração.','...</span>','substring','1879308VFaDRT','change','error','<div\x20class=\x22text-center\x20text-gray-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Carregando\x20mensagens...</p></div>','general','AIzaSyBL7oI8tr3rseMyQW6ouPVwbfZKGUfwJ1s','Não\x20é\x20possível\x20enviar\x20mensagens\x20nesta\x20visualização.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20','Iniciando\x20carregamento:\x20View=\x27','Chat\x20(','Desanexando\x20listener\x20Firebase\x20anterior\x20da\x20Ref:','<code>','):\x20Cota\x20da\x20API\x20Gemini\x20excedida.','.initial-message','match','2-digit','<div\x20class=\x22text-center\x20text-red-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-user-slash\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Usuário\x20\x27','startAt','Nenhum\x20histórico\x20encontrado\x20para\x20','toISOString','keys','.\x20Verifique\x20sua\x20conexão.','\x27\x20não\x20encontrado.\x20Verifique\x20o\x20nome\x20ou\x20ID.','32fMqiJu','):\x20Chave\x20da\x20API\x20inválida.\x20Verifique\x20a\x20configuração.','bloqueado','Erro\x20ao\x20verificar\x20existência\x20do\x20usuário\x20','<strong>$1</strong>','Meu','Mensagem\x20de\x20erro\x20do\x20Gemini\x20salva\x20no\x20Firebase:','cursor-not-allowed','<pre><code>','Mensagem\x20do\x20usuário\x20(','4pxGVnm',')\x20pronto.','Listener:','Erro\x20ao\x20inicializar\x20Firebase:','TIMESTAMP','database','getTime','923zjlegA','17901ioIvLn','gaamini-teste-api.firebaseapp.com','Reconectado\x20ao\x20Firebase.','set','ID\x20\x27','quota','my-2',')\x20inicializado\x20com\x20','Erro\x20(','<div\x20class=\x22text-center\x20text-gray-500\x20py-10\x20initial-message\x22><i\x20class=\x22fas\x20fa-search\x20text-3xl\x20sm:text-4xl\x20mb-2\x22></i><p\x20class=\x22text-sm\x20sm:text-base\x22>Digite\x20um\x20nome\x20ou\x20ID\x20acima\x20para\x20ver\x20o\x20chat.</p></div>','Erro\x20CRÍTICO\x20ao\x20carregar\x20histórico\x20ou\x20anexar\x20listener\x20para\x20','Listener\x20Firebase\x20anexado\x20em\x20','Erro\x20ao\x20inicializar\x20Gemini\x20Chat\x20(',',\x20Nome=','current-chat-info','button[type=\x22submit\x22]','Novo\x20ID\x20de\x20dispositivo\x20criado:','Erro\x20interno:\x20ID\x20do\x20modelo\x20não\x20especificado.','sender'];_0x24b7=function(){return _0x1e83f5;};return _0x24b7();}
</script>

</body>
</html>
``` 